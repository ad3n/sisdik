{% extends 'FastSisdikBundle::layout.html.twig' %}

{% block page_heading %}{% trans from "headings" %}applicant.payment.oncefee{% endtrans %}{% endblock %}
{% block content %}
<style type="text/css">
.content .ui-multiselect {
    line-height: 1em;
}
.ui-multiselect .actions {
    padding: 0;
    margin-top: 0;
    border-radius: 0;
}
.ui-helper-clearfix {
    margin-bottom: 18px;
}
.controls {
    margin-left: 0;
}
</style>

{% stylesheets '@FastSisdikBundle/Resources/public/css/ui.multiselect.css' %}
<link rel="stylesheet" href="{{ asset_url }}" />
{% endstylesheets %}

{% javascripts '@FastSisdikBundle/Resources/public/js/libraries/multiselect/ui.multiselect.js' %}
<script type="text/javascript" src="{{ asset_url }}"></script>
{% endjavascripts %}

<div class="row-fluid">
    <div class="span12">
        <dl>
            <dt>{{ 'label.yearentry.entry'|trans }}</dt>
            <dd>{% if calonSiswa.tahunmasuk is not null %}{{ calonSiswa.tahunmasuk.tahun }}{% endif %}</dd>
            <dt>{{ 'label.admissiongroup.entry'|trans }}</dt>
            <dd>{% if calonSiswa.gelombang is not null %}{{ calonSiswa.gelombang.nama }}{% endif %}</dd>
            <dt>{{ 'label.name.full'|trans }}</dt>
            <dd>{{ calonSiswa.namaLengkap }}</dd>
            <dt>{{ 'label.application.number'|trans }}</dt>
            <dd>{{ calonSiswa.nomorPendaftaran }}</dd>
            <dt>{{ 'label.gender'|trans }}</dt>
            <dd>{% if calonSiswa.jenisKelamin == 'L' %}{{ 'male'|trans }}{% elseif calonSiswa.jenisKelamin %}{{ 'female'|trans }}{% endif %}</dd>
            <dt>{{ 'label.name.parent.or.guardian'|trans }}</dt>
            <dd>
        		{% if calonSiswa.calonOrangtuaWali %}
        		    {% for orangtua in calonSiswa.calonOrangtuaWali %}
        		        {% if orangtua %}
        		            {% if orangtua.aktif == 1 %}
            		            {{ orangtua.nama }}<br />
            		        {% endif %}
        		        {% endif %}
        		    {% endfor %}
        		{% endif %}
        	</dd>
            <dt>{{ 'label.mobilephone.parent'|trans }}</dt>
            <dd>{{ calonSiswa.ponselOrangtuawali }}</dd>
        </dl>

<div class="clearfix" style="margin-bottom: 2em;"></div>

    <h4>{{ 'applicant.fee.once'|trans({}, 'headings') }}</h4>
    <form action="{{ path('applicant_payment_oncefee_update', { 'cid': calonSiswa.id, 'id': entity.id, 'page': app.request.get('page') }) }}" method="post" {{ form_enctype(edit_form) }} class="form-horizontal">
        {{ form_widget(edit_form.daftarBiayaSekali, { 'attr': {'style': 'width: 750px; height: 230px;'} }) }}
        {% for transaksi in edit_form.calonTransaksiPembayaranSekali %}
            {% if loop.length > 1 %}
                {% if not loop.last %}
                    <div class="control-group">
                        {{ form_label(transaksi.nominalPembayaran) }}&nbsp;#{{ loop.index }}&nbsp;
                        {{ form_widget(transaksi.nominalPembayaran, { 'attr': {'disabled': 'disabled'} }) }}
                        {{ form_errors(transaksi.nominalPembayaran) }}
                    </div>
                    <div class="control-group">
                        {{ form_label(transaksi.keterangan) }}&nbsp;#{{ loop.index }}&nbsp;
                        {{ form_widget(transaksi.keterangan, { 'attr': {'disabled': 'disabled'} }) }}
                        {{ form_errors(transaksi.keterangan) }}
                    </div>
                {% else %}
                    <div class="control-group">
                        {{ form_label(transaksi.nominalPembayaran) }}&nbsp;#{{ loop.index }}&nbsp;
                        {{ form_widget(transaksi.nominalPembayaran) }}
                        {{ form_errors(transaksi.nominalPembayaran) }}
                    </div>
                    <div class="control-group">
                        {{ form_label(transaksi.keterangan) }}&nbsp;#{{ loop.index }}&nbsp;
                        {{ form_widget(transaksi.keterangan) }}
                        {{ form_errors(transaksi.keterangan) }}
                    </div>
                {% endif %}
            {% else %}
                <div class="control-group">
                    {{ form_label(transaksi.nominalPembayaran) }}&nbsp;
                    {{ form_widget(transaksi.nominalPembayaran) }}
                    {{ form_errors(transaksi.nominalPembayaran) }}
                </div>
                <div class="control-group">
                    {{ form_label(transaksi.keterangan) }}&nbsp;
                    {{ form_widget(transaksi.keterangan) }}
                    {{ form_errors(transaksi.keterangan) }}
                </div>
            {% endif %}
        {% endfor %}
        {{ form_rest(edit_form) }}
    	<div class="form-actions">
    	    <button type="submit" class="btn primary">{{ 'label.save'|trans }}</button>
        </div>
    </form>
    </div>
</div>

<div class="clearfix"></div>

<ul class="pills">
    <li>
        <a href="{{ path('applicant_payment', {'page': app.request.get('page')}) }}">{{ 'link.backtolist'|trans }}</a>
    </li>
</ul>

<div class="clearfix"></div>
<script language="javascript" type="text/javascript">
$(document).ready(function() {
	 $(".multiselect").multiselect();
});
</script>

{% endblock content %}
